{"version":3,"sources":["./src/app/portal/cancelBookings/cancel-bookings.routing.ts","./src/app/portal/cancelBookings/container/cancel-bookings.component.ts","./src/app/portal/cancelBookings/container/cancel-bookings.component.html","./src/app/portal/cancelBookings/cancel-bookings.module.ts"],"names":[],"mappings":"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","file":"cancelBookings-cancel-bookings-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, Routes } from '@angular/router';\nimport { CancelBookingsComponent } from './container/cancel-bookings.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CancelBookingsComponent,\n  }\n];\n\n@NgModule({\n  declarations: [],\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes)\n  ],\n  exports: [RouterModule]\n})\nexport class CancelBookingsRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { ToastrService } from 'ngx-toastr';\nimport { Observable } from 'rxjs';\nimport { CancelBooking } from 'src/app/models/CancelBooking';\nimport { CancelBookingRequest } from 'src/app/models/CancelBookingRequest';\nimport { IndividualBookingInformation } from 'src/app/models/IndividualBookingInformation';\nimport { BookingService } from 'src/app/services/booking-service/booking.service';\n\n@Component({\n  selector: 'app-cancel-bookings',\n  templateUrl: './cancel-bookings.component.html',\n  styleUrls: ['./cancel-bookings.component.scss']\n})\nexport class CancelBookingsComponent implements OnInit {\n\n  showLoader: boolean;\n  disableButton: boolean = false;\n  form: FormGroup;\n  individualBookingInformation$:Observable<IndividualBookingInformation>; \n\n  constructor(private bookingService: BookingService,\n    private toastr: ToastrService) { }\n\n  ngOnInit(): void {\n    this.form = new FormGroup({\n      individualEmailAddress: new FormControl('', [Validators.required, Validators.email]),\n      individualMobileNumber: new FormControl('', [Validators.required]),     \n    });\n  }\n\n  get individualEmailAddress() {\n    return this.form.get('individualEmailAddress');\n  }\n\n  get individualMobileNumber() {\n    return this.form.get('individualMobileNumber');\n  }\n\n  showLoaders(): void{\n    this.showLoader = true\n    this.disableButton = true\n  }\n\n  disableLoaders(): void{\n    this.showLoader = false\n    this.disableButton = false;\n  }\n\n  submitForm(): void{\n    if(this.form.invalid){\n      return this.form.markAllAsTouched();\n    }\n\n    this.showLoaders();\n\n    this.individualBookingInformation$ = this.bookingService.GetIndividualInfoByMobileNoAndEmail(\n                      this.form.value.individualEmailAddress, this.form.value.individualMobileNumber)\n    this.disableLoaders(); \n  }\n\n  \n  goBacktoForm(): void{\n    this.individualBookingInformation$ = null;\n    this.form.reset();\n  }\n\n  setTestOutcome = (individualEmailAddress: string, individualMobileNumber: string): void => {\n    console.log({individualEmailAddress, individualMobileNumber})\n\n    const setTestOutcomeRequest: CancelBookingRequest = {\n      individualEmailAddress: individualEmailAddress,\n      individualMobileNumber: individualMobileNumber,\n      individualBookingStatus: false\n    }\n\n    this.bookingService.cancelBookings(setTestOutcomeRequest).subscribe((res: CancelBooking) =>{\n      this.form.reset();\n      this.individualBookingInformation$ = null;\n      this.toastr.success(\"booking has been canceled\")\n    },\n\n    (error) => {\n      error.error.forEach(element => {\n        console.log(element);\n        this.toastr.error(element)\n      });\n    })\n  \n  }\n}\n","<div class=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom\">\n    <h1 class=\"h2\">Cancel Bookings</h1>\n  </div>\n\n  <div class=\"view-portfolio\">\n    <div class=\"container-fluid\">\n        <div class=\"row\">\n          <div class=\"col-md-12\">\n            <div class=\"card\">\n              <div class=\"card-header card-header-primaryW\">\n                <h2 class=\"card-title\">Cancel Booked Covid Test</h2>\n                <p class=\"card-category\">input individual details</p>\n              </div>\n              <div class=\"card-body\">\n                <form method=\"POST\" [formGroup]=\"form\" (ngSubmit)=\"submitForm()\">\n\n                  <div class=\"row pd-10\">\n                    <div class=\"col-md-12\">\n                      <div class=\"form-group\">\n                        <label class=\"bmd-label-floating\">Email</label>\n                        <input type=\"text\" formControlName=\"individualEmailAddress\" class=\"form-control\" placeholder=\"input email address\">\n                        <div class=\"small alert alert-danger\" *ngIf=\"individualEmailAddress.touched && individualEmailAddress.invalid\">\n                            <span *ngIf=\"!!individualEmailAddress.errors.required\">please input your email address</span>\n                            </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class=\"row pd-10\">\n                    <div class=\"col-md-12\">\n                      <div class=\"form-group\">\n                        <label class=\"bmd-label-floating\">Mobile Number</label>\n                        <input type=\"text\" formControlName=\"individualMobileNumber\" class=\"form-control\" placeholder=\"input Mobilenumber\">\n                        <div class=\"small alert alert-danger\" *ngIf=\"individualMobileNumber.touched && individualMobileNumber.invalid\">\n                            <span *ngIf=\"!!individualMobileNumber.errors.required\">please input your mobile number date</span>\n                            </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <button class=\"btn btn-primary pull-right pd-10\">\n                    Get Booking Details\n                    <i class=\"fa fa-spinner fa-spin fs-22 float-r\" *ngIf=\"showLoader\"></i>\n                  </button>\n                  <div class=\"clearfix\"></div>\n                </form>\n\n                <div class=\"row pd-10\" *ngIf=\"individualBookingInformation$ != null\">\n                  <div class=\"col-md-12\">\n                      <table class=\"table\">\n                          <thead class=\"thead-dark\">\n                            <tr>\n                              <th scope=\"col\">First Name</th>\n                              <th scope=\"col\">Last Name</th>\n                              <th scope=\"col\">Email Adress</th>\n                              <th scope=\"col\">Mobile Number</th>\n                              <th scope=\"col\">Test Type</th>\n                            </tr>\n                          </thead>\n                          <tbody>\n                            <tr  *ngIf=\"individualBookingInformation$ | async as individualBooking\">\n                              <td>{{individualBooking.individualFirstName}}</td>\n                              <td>{{individualBooking.individualLastName}}</td>\n                              <td>{{individualBooking.individualEmailAddress}}</td>\n                              <td>{{individualBooking.individualMobileNumber}}</td>\n                              <td>{{individualBooking.individualLab.testType}}</td>\n                              <td>\n                                <button class=\"btn btn-primary pull-right pd-3 mg-5\" (click)=\"goBacktoForm()\">\n                                  back\n                                  <i class=\"fa fa-spinner fa-spin fs-22 float-r\" *ngIf=\"showLoader\"></i>\n                                </button>\n                                  <button class=\"btn btn-primary pull-right pd-3 mg-5\" (click)=\"setTestOutcome(individualBooking.individualEmailAddress, individualBooking.individualMobileNumber)\">\n                                    Cancel Booking\n                                    <i class=\"fa fa-spinner fa-spin fs-22 float-r\" *ngIf=\"showLoader\"></i>\n                                  </button>\n                              </td>\n                            </tr>\n                        </table>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n  </div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CancelBookingsComponent } from './container/cancel-bookings.component';\nimport { CancelBookingsRoutingModule } from './cancel-bookings.routing';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n\n\n@NgModule({\n  declarations: [CancelBookingsComponent],\n  imports: [\n    CommonModule,\n    CancelBookingsRoutingModule,\n    FormsModule,\n    ReactiveFormsModule,\n  ],\n  exports: [\n    CancelBookingsComponent\n  ]\n})\nexport class CancelBookingsModule { }\n"],"sourceRoot":"webpack:///"}